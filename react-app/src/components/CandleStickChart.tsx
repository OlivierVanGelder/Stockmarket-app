import React, { useState } from "react";
import Chart from "react-apexcharts";
import dayjs from "dayjs";

const CandleStickChart: React.FC = () => {
  const [series] = useState([
    {
      name: "candle",
      data: [
        {
          x: new Date("2024-09-27T12:00:00"),
          y: [6604.98, 6610.0, 6600.5, 6616.0],
        },
        {
          x: new Date("2024-09-27T12:05:00"),
          y: [6610.0, 6615.0, 6605.0, 6612.0],
        },
        {
          x: new Date("2024-09-27T12:10:00"),
          y: [6612.0, 6617.0, 6610.0, 6615.0],
        },
        {
          x: new Date("2024-09-27T12:15:00"),
          y: [6615.0, 6620.0, 6611.0, 6619.0],
        },
        {
          x: new Date("2024-09-27T12:20:00"),
          y: [6619.0, 6625.0, 6615.0, 6623.0],
        },
        {
          x: new Date("2024-09-27T12:25:00"),
          y: [6623.0, 6630.0, 6618.0, 6628.0],
        },
        {
          x: new Date("2024-09-27T12:30:00"),
          y: [6628.0, 6635.0, 6625.0, 6630.0],
        },
        {
          x: new Date("2024-09-27T12:35:00"),
          y: [6630.0, 6632.0, 6620.0, 6625.0],
        },
        {
          x: new Date("2024-09-27T12:40:00"),
          y: [6625.0, 6630.0, 6618.0, 6620.0],
        },
        {
          x: new Date("2024-09-27T12:45:00"),
          y: [6620.0, 6625.0, 6615.0, 6618.0],
        },
        {
          x: new Date("2024-09-27T12:50:00"),
          y: [6618.0, 6620.0, 6608.0, 6610.0],
        },
        {
          x: new Date("2024-09-27T12:55:00"),
          y: [6610.0, 6618.0, 6605.0, 6614.0],
        },
        {
          x: new Date("2024-09-27T13:00:00"),
          y: [6614.0, 6622.0, 6611.0, 6619.0],
        },
        {
          x: new Date("2024-09-27T13:05:00"),
          y: [6619.0, 6625.0, 6618.0, 6623.0],
        },
        {
          x: new Date("2024-09-27T13:10:00"),
          y: [6623.0, 6628.0, 6615.0, 6620.0],
        },
        {
          x: new Date("2024-09-27T13:15:00"),
          y: [6620.0, 6630.0, 6619.0, 6628.0],
        },
        {
          x: new Date("2024-09-27T13:20:00"),
          y: [6628.0, 6635.0, 6622.0, 6630.0],
        },
        {
          x: new Date("2024-09-27T13:25:00"),
          y: [6630.0, 6632.0, 6620.0, 6625.0],
        },
        {
          x: new Date("2024-09-27T13:30:00"),
          y: [6625.0, 6630.0, 6615.0, 6622.0],
        },
        {
          x: new Date("2024-09-27T13:35:00"),
          y: [6622.0, 6625.0, 6615.0, 6620.0],
        },
        {
          x: new Date("2024-09-27T13:40:00"),
          y: [6620.0, 6622.0, 6612.0, 6615.0],
        },
        {
          x: new Date("2024-09-27T13:45:00"),
          y: [6615.0, 6620.0, 6610.0, 6618.0],
        },
        {
          x: new Date("2024-09-27T13:50:00"),
          y: [6618.0, 6622.0, 6615.0, 6620.0],
        },
        {
          x: new Date("2024-09-27T13:55:00"),
          y: [6620.0, 6625.0, 6618.0, 6624.0],
        },
        {
          x: new Date("2024-09-27T14:00:00"),
          y: [6624.0, 6630.0, 6622.0, 6628.0],
        },
        {
          x: new Date("2024-09-27T14:05:00"),
          y: [6628.0, 6632.0, 6620.0, 6625.0],
        },
        {
          x: new Date("2024-09-27T14:10:00"),
          y: [6625.0, 6635.0, 6623.0, 6630.0],
        },
        {
          x: new Date("2024-09-27T14:15:00"),
          y: [6630.0, 6632.0, 6620.0, 6628.0],
        },
        {
          x: new Date("2024-09-27T14:20:00"),
          y: [6628.0, 6630.0, 6620.0, 6623.0],
        },
        {
          x: new Date("2024-09-27T14:25:00"),
          y: [6623.0, 6630.0, 6618.0, 6628.0],
        },
        {
          x: new Date("2024-09-27T14:30:00"),
          y: [6628.0, 6635.0, 6625.0, 6630.0],
        },
        {
          x: new Date("2024-09-27T14:35:00"),
          y: [6630.0, 6638.0, 6628.0, 6635.0],
        },
        {
          x: new Date("2024-09-27T14:40:00"),
          y: [6635.0, 6640.0, 6630.0, 6638.0],
        },
        {
          x: new Date("2024-09-27T14:45:00"),
          y: [6638.0, 6645.0, 6635.0, 6640.0],
        },
        {
          x: new Date("2024-09-27T14:50:00"),
          y: [6640.0, 6645.0, 6638.0, 6642.0],
        },
        {
          x: new Date("2024-09-27T14:55:00"),
          y: [6642.0, 6648.0, 6640.0, 6645.0],
        },
        {
          x: new Date("2024-09-27T15:00:00"),
          y: [6645.0, 6650.0, 6642.0, 6648.0],
        },
        {
          x: new Date("2024-09-27T15:05:00"),
          y: [6648.0, 6655.0, 6644.0, 6650.0],
        },
        {
          x: new Date("2024-09-27T15:10:00"),
          y: [6650.0, 6652.0, 6640.0, 6645.0],
        },
        {
          x: new Date("2024-09-27T15:15:00"),
          y: [6645.0, 6648.0, 6642.0, 6646.0],
        },
        {
          x: new Date("2024-09-27T15:20:00"),
          y: [6646.0, 6650.0, 6640.0, 6645.0],
        },
        {
          x: new Date("2024-09-27T15:25:00"),
          y: [6645.0, 6655.0, 6642.0, 6650.0],
        },
        {
          x: new Date("2024-09-27T15:30:00"),
          y: [6650.0, 6658.0, 6645.0, 6655.0],
        },
        {
          x: new Date("2024-09-27T15:35:00"),
          y: [6655.0, 6660.0, 6650.0, 6657.0],
        },
        {
          x: new Date("2024-09-27T15:40:00"),
          y: [6657.0, 6665.0, 6652.0, 6660.0],
        },
        {
          x: new Date("2024-09-27T15:45:00"),
          y: [6660.0, 6665.0, 6655.0, 6660.0],
        },
        {
          x: new Date("2024-09-27T15:50:00"),
          y: [6660.0, 6665.0, 6658.0, 6662.0],
        },
        {
          x: new Date("2024-09-27T15:55:00"),
          y: [6662.0, 6668.0, 6660.0, 6665.0],
        },
        {
          x: new Date("2024-09-27T16:00:00"),
          y: [6665.0, 6670.0, 6662.0, 6668.0],
        },
        {
          x: new Date("2024-09-27T16:05:00"),
          y: [6668.0, 6672.0, 6665.0, 6670.0],
        },
      ],
    },
  ]);

  const [options] = useState<any>({
    chart: {
      height: 450,
      type: "candlestick",
      zoom: {
        enabled: true, // Enable zooming
        type: "x", // Allow zooming only on the x-axis
        autoScaleYaxis: true, // Automatically scale y-axis
      },
      toolbar: {
        show: false, // Disable the toolbar (menu button)
      },
    },
    title: {
      text: "CandleStick Chart - Category X-axis",
      align: "left",
      style: {
        color: "#9AA0A6", // Setting the title color
      },
    },
    annotations: {
      xaxis: [
        {
          x: "Oct 06 14:00",
          borderColor: "#00E396",
          label: {
            borderColor: "#00E396",
            style: {
              fontSize: "12px",
              color: "#fff",
              background: "#00E396",
            },
            orientation: "horizontal",
            offsetY: 7,
            text: "Annotation Test",
          },
        },
      ],
    },
    tooltip: {
      enabled: true, // Enable tooltips
    },
    xaxis: {
      type: "category",
      labels: {
        formatter: function (val: any) {
          return dayjs(val).format("MMM DD HH:mm");
        },
        style: {
          colors: "#9AA0A6", // Setting the x-axis label color
        },
      },
    },
    yaxis: {
      tooltip: {
        enabled: true, // Enable y-axis tooltip
      },
      labels: {
        style: {
          colors: "#9AA0A6", // Setting the y-axis label color
        },
      },
    },
  });

  return (
    <div id="chart">
      <Chart
        options={options}
        series={series}
        type="candlestick"
        height={450}
        width={1000}
      />
    </div>
  );
};

export default CandleStickChart;
